"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_app-uuid_app-uuid_ts-packages_commenting_hooks_use-markdown-body_ts-packages_comment-d030a9","packages_failbot_failbot_ts"],{52475:(e,n,t)=>{t.d(n,{_S:()=>i,cB:()=>o,cW:()=>r});var a=t(53627),l=t(71315);let i=()=>{let e=(0,a.JV)().appId;return e&&"rails"!==e?e:crypto.randomUUID()},r=e=>{(0,a.C3)({appId:e})},o=()=>{let e=document.querySelector("react-app")||document.querySelector("projects-v2");return e?.uuid||"rails"};l.cg?.addEventListener("hashchange",()=>{(0,a.C3)({appId:o()})},!0)},21067:(e,n,t)=>{let a;function l(){if(!a)throw Error("Client env was requested before it was loaded. This likely means you are attempting to use client env at the module level in SSR, which is not supported. Please move your client env usage into a function.");return a}function i(){return a?.locale??"en-US"}function r(){return!!l().login}t.d(n,{JK:()=>i,M3:()=>r,_$:()=>l}),!function(){if("undefined"!=typeof document){let e=document.getElementById("client-env");if(e)try{a=JSON.parse(e.textContent||"")}catch(e){console.error("Error parsing client-env",e)}}}()},81034:(e,n,t)=>{t.d(n,{x:()=>y});var a=t(62559),l=t(34267),i=t(79634),r=t(57019),o=t(40104),s=t(96540),d=t(96760);let u={focusCommentComposer:"r"};var c=t(81156),m=t(20459);function y({commentBoxRef:e,markdownComposerRef:n,onChange:t,onCancel:y,referenceId:g,hasSingleKeyShortcutEnabled:p,insidePortal:f}){let[k,h]=(0,o.Fo)(c.t.localStorageKeys.issueNewComment("viewer",g),""),[v,E]=(0,s.useState)(k),C=(0,s.useMemo)(()=>(0,a.KG)(v),[v]),b=(0,i.X)(),w=void 0!==p?p:b?.current_user_settings?.use_single_key_shortcut||!1,{anyItemPickerOpen:S}=(0,l.t)(),F=(0,s.useCallback)(e=>{E(e),h(e)},[h]),K=(0,s.useCallback)(e=>{F(e),t(),""===e&&y()},[F,y,t]);(0,s.useImperativeHandle)(n,()=>({appendText:e=>{K(`${v}

${e}`)},setText:e=>{K(e)},focus:()=>{e.current?.focus()}}),[K,v,e]),(0,s.useEffect)(()=>E(v),[v,E]);let _=(0,s.useCallback)(n=>{if(!(!w||S())&&e&&e.current){n.preventDefault();let t=window.getSelection();if(t&&t.anchorNode){let e={anchorNode:t.anchorNode,range:t.getRangeAt(0)},n=t.anchorNode.parentElement,a=n?.closest((0,d.Sp)(d.mU.issueComment))??n?.closest((0,d.Sp)(d.mU.issueBody));if(a&&a instanceof HTMLDivElement){let n=(0,m.E)(a,e);F(`${n}`)}}e.current.scrollIntoView(),e.current.focus()}},[S,F,e,w]),N=(0,s.useCallback)(()=>{e.current?e.current.reset():E(""),h(void 0)},[e,h]);return(0,r._N)([u.focusCommentComposer],_,{triggerWhenInputElementHasFocus:!1,triggerWhenPortalIsActive:f}),{handleMarkdownBodyChanged:K,markdownValidationResult:C,markdownBody:v,resetMarkdownBody:N}}},61423:(e,n,t)=>{t.d(n,{i:()=>l});var a=t(96901);function l(e,n,t=null,i="issue"){return e?a.k.repoArchived:n?a.k.issueLockedToCollaborators:t||a.k.canNotComment(i)}},34095:(e,n,t)=>{t.d(n,{G:()=>l,K:()=>i});var a=t(71315);let l=a.XC?.readyState==="interactive"||a.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{a.XC?.addEventListener("DOMContentLoaded",()=>{e()})}),i=a.XC?.readyState==="complete"?Promise.resolve():new Promise(e=>{a.cg?.addEventListener("load",e)})},38102:(e,n,t)=>{t.d(n,{N7:()=>h});var a=t(36301),l=t(77065),i=t(24212);function r(e){return(0,i.q)(e.stack||"").map(e=>({filename:e.file||"",function:String(e.methodName),lineno:(e.lineNumber||0).toString(),colno:(e.column||0).toString()}))}function o(e){let n=document.querySelectorAll(e);if(n.length>0)return n[n.length-1]}var s=t(99223),d=t(71315),u=t(94416),c=t(69599),m=t(88057);let y=!1,g=0,p=Date.now(),f=new Set(["AbortError","AuthSessionExpiredError","TypeError"]),k=new Set(["Failed to fetch","NetworkError when attempting to fetch resource.","Unable to perform this operation. Please try again later."]);function h(e,n={}){if(!(e instanceof Error||"object"==typeof e&&null!==e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)){if(function(e){if(!e||"boolean"==typeof e||"number"==typeof e)return!0;if("string"==typeof e){if(w.some(n=>e.includes(n)))return!0}else if("object"==typeof e&&"string"==typeof e.message&&"number"==typeof e.code)return!0;return!1}(e))return;let t=Error(),a=function(e){try{return JSON.stringify(e)}catch{return"Unserializable"}}(e);v(E({type:"UnknownError",value:`Unable to report error, due to a thrown non-Error type: ${typeof e}, with value ${a}`,stacktrace:r(t),catalogService:document.head?.querySelector('meta[name="current-catalog-service"]')?.content},n));return}e.name&&("AbortError"===e.name||f.has(e.name)&&k.has(e.message)||e.name.startsWith("ApiError")&&k.has(e.message))||v(E({type:e.name,value:e.message,stacktrace:r(e),catalogService:e.catalogService||document.head?.querySelector('meta[name="current-catalog-service"]')?.content},n))}async function v(e){if(!(!b&&!y&&g<10&&(0,l.TT)()))return;let n=document.head?.querySelector('meta[name="browser-errors-url"]')?.content;if(n){if(e.error.stacktrace.some(e=>C.test(e.filename)||C.test(e.function))){y=!0;return}g++;try{await fetch(n,{method:"post",body:JSON.stringify({context:e,target:document.head?.querySelector('meta[name="ui-target"]')?.content||"full"})})}catch{}}}function E(e,n={}){let t={...n};return(0,c.G7)("failbot_report_error_react_apps_on_page")&&!t.reactAppName&&(t.reactAppName=function(e){let n=function(){let e=new Set;for(let[n,t]of S)for(let a of document.querySelectorAll(n))if(a instanceof HTMLElement){let n=a.getAttribute(t);n&&e.add(n)}return Array.from(e)}();if(!n||!n.length||!e||!e.length)return;let t=new Set;for(let a of e){if(!a||!a.filename)continue;let e=a.filename.split(/[\\/]/).pop();if(!e||t.has(e))continue;t.add(e);let l=n.find(n=>e.toLowerCase().includes(n.toLowerCase()));if(l)return l}}(e.stacktrace)),Object.assign({error:e,sanitizedUrl:`${window.location.protocol}//${window.location.host}${function(){let e=o("meta[name=analytics-location]");return e?e.content:window.location.pathname}()+function(){let e=o("meta[name=analytics-location-query-strip]"),n="";e||(n=window.location.search);let t=o("meta[name=analytics-location-params]");for(let e of(t&&(n+=(n?"&":"?")+t.content),document.querySelectorAll("meta[name=analytics-param-rename]"))){let t=e.content.split(":",2);n=n.replace(RegExp(`(^|[?&])${t[0]}($|=)`,"g"),`$1${t[1]}$2`)}return n}()}`||window.location.href,readyState:document.readyState,referrer:(0,u.dR)(),timeSinceLoad:Math.round(Date.now()-p),user:function(){let e=document.head?.querySelector('meta[name="user-login"]')?.content;if(e)return e;let n=(0,a.y)();return`anonymous-${n}`}()||void 0,actorId:document.head?.querySelector('meta[name="octolytics-actor-id"]')?.content,bundler:s.v,ui:!!document.querySelector('meta[name="ui"]'),release:document.head?.querySelector('meta[name="release"]')?.content,pastRequestIds:(0,m.xA)()},t)}let C=/(chrome|moz|safari)-extension:\/\//,b=!1;d.cg?.addEventListener("pageshow",()=>b=!1),d.cg?.addEventListener("pagehide",()=>b=!0),"function"==typeof BroadcastChannel&&new BroadcastChannel("shared-worker-error").addEventListener("message",e=>{h(e.data.error)});let w=["Object Not Found Matching Id","Not implemented on this platform","provider because it's not your default extension"],S=[["react-app","app-name"],["react-partial","partial-name"]]},69599:(e,n,t)=>{t.d(n,{G7:()=>s,XY:()=>d,fQ:()=>o});var a=t(5225),l=t(21067);function i(){return new Set((0,l._$)().featureFlags)}let r=t(71315).X3||function(){try{return process?.env?.STORYBOOK==="true"}catch{return!1}}()?i:(0,a.A)(i);function o(){return Array.from(r())}function s(e){return r().has(e)}let d={isFeatureEnabled:s}},18042:(e,n,t)=>{t.d(n,{k:()=>a});let a={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},38829:(e,n,t)=>{t.d(n,{f:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a],storageKey:null},a],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d72649dd9392589f64dd4570b992b900",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();a.hash="4c6ffc38d14bcfbd11af3056fe1ca692";var l=t(18312);function i({id:e}){let n=(0,l.useLazyLoadQuery)(a,{id:e});return n.node?n.node:null}},74547:(e,n,t)=>{t.d(n,{t:()=>a});let a={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable",copilotDisplayName:"Copilot"}},79866:(e,n,t)=>{t.d(n,{JQ:()=>i,Js:()=>l,fj:()=>r,qG:()=>a});let a={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function l(e,n){if(0===e.length||0===n)return"";let t=e.slice(0);if(1===t.length)return t[0];if(2===t.length)return t.join(" and ");n>e.length&&t.push(`${n-e.length} more`);let a=t.pop();return t.push(`${t.pop()} and ${a}`),t.join(", ")}function i(e,n){return`${n?"Unreact":"React"} with ${a[e]}`}function r(e,n){return`${a[e]} ${n} reaction${1===n?"":"s"}`}},88057:(e,n,t)=>{t.d(n,{Ex:()=>r,kt:()=>s,xA:()=>o});var a=t(71315);let l=Array(10).fill(null),i=0;function r(e){l[i]=e,i=(i+1)%10}function o(){let e=[];for(let n=0;n<10;n++){let t=l[(i-1-n+10)%10];t&&e.push(t)}return e}function s(){let e=a.XC;if(!e)return;let n=e.querySelector('meta[name="request-id"]'),t=n?.getAttribute("content");t&&r(t)}},99223:(e,n,t)=>{t.d(n,{k:()=>r,v:()=>o});var a=t(5225),l=t(71315);let i=(0,a.A)(function(){return l.XC?.head?.querySelector('meta[name="runtime-environment"]')?.content||""}),r=(0,a.A)(function(){return"enterprise"===i()}),o="webpack"},82075:(e,n,t)=>{t.d(n,{A:()=>r,D:()=>o});var a=t(71315),l=t(11083);let i=class NoOpStorage{getItem(){return null}setItem(){}removeItem(){}clear(){}key(){return null}get length(){return 0}};function r(e,n={throwQuotaErrorsOnSet:!1},t=a.cg,o=e=>e,s=e=>e){let d;try{if(!t)throw Error();d=t[e]||new i}catch{d=new i}let{throwQuotaErrorsOnSet:u}=n;function c(e){n.sendCacheStats&&(0,l.i)({incrementKey:e})}function m(e){try{if(d.removeItem(e),n.ttl){let n=`${e}:expiry`;d.removeItem(n)}}catch{}}return{getItem:function(e,n=Date.now()){try{let t=d.getItem(e);if(!t)return null;let a=`${e}:expiry`,l=Number(d.getItem(a));if(l&&n>l)return m(e),m(a),c("SAFE_STORAGE_VALUE_EXPIRED"),null;return c("SAFE_STORAGE_VALUE_WITHIN_TTL"),o(t)}catch{return null}},setItem:function(e,t,a=Date.now()){try{if(d.setItem(e,s(t)),n.ttl){let t=`${e}:expiry`,l=a+n.ttl;d.setItem(t,l.toString())}}catch(e){if(u&&e instanceof Error&&e.message.toLowerCase().includes("quota"))throw e}},removeItem:m,clear:d.clear,getKeys:function(){return Object.keys(d)},get length(){return d.length}}}function o(e){return r(e,{throwQuotaErrorsOnSet:!1},a.cg,JSON.parse,JSON.stringify)}},95800:(e,n,t)=>{t.d(n,{Ai:()=>i,Gq:()=>a,SO:()=>l});let{getItem:a,setItem:l,removeItem:i}=(0,t(82075).A)("sessionStorage")},94416:(e,n,t)=>{t.d(n,{BW:()=>l,Ff:()=>y,HK:()=>v,JA:()=>F,LM:()=>g,Pv:()=>b,Vy:()=>m,ZW:()=>C,dR:()=>E,di:()=>p,fX:()=>w,gc:()=>S,k9:()=>h,my:()=>k,r7:()=>K,wG:()=>f,xT:()=>c});var a=t(95800);let l="reload",i="soft-nav:fail",r="soft-nav:fail-referrer",o="soft-nav:referrer",s="soft-nav:marker",d="soft-nav:react-app-name",u="soft-nav:latest-mechanism";function c(){(0,a.SO)(s,"0"),(0,a.Ai)(o),(0,a.Ai)(i),(0,a.Ai)(r),(0,a.Ai)(d),(0,a.Ai)(u)}function m(e){(0,a.SO)(s,e)}function y(){(0,a.SO)(s,"0")}function g(){let e=(0,a.Gq)(s);return e&&"0"!==e}function p(){return(0,a.Gq)(s)}function f(){return!!k()}function k(){return(0,a.Gq)(i)}function h(e){(0,a.SO)(i,e||l),(0,a.SO)(r,window.location.href)}function v(){(0,a.SO)(o,window.location.href)}function E(){return(0,a.Gq)(o)||document.referrer}function C(){let e=w();e?(0,a.SO)(d,e):(0,a.Ai)(d)}function b(){return(0,a.Gq)(d)}function w(){return document.querySelector("projects-v2")?"memex":document.querySelector('react-partial[partial-name="repos-overview"]')?"repos-overview":document.querySelector("react-app")?.getAttribute("app-name")}function S(){return!!document.querySelector("react-app")?.getAttribute("app-name")||!!document.querySelector("projects-v2")}function F(e){(0,a.SO)(u,e)}function K(){return(0,a.Gq)(u)}},71315:(e,n,t)=>{t.d(n,{KJ:()=>a.KJ,Kn:()=>l.Kn,X3:()=>a.X3,XC:()=>l.XC,cg:()=>l.cg,fV:()=>l.fV,g5:()=>a.g5});var a=t(6923),l=t(56038)},56038:(e,n,t)=>{t.d(n,{Kn:()=>r,XC:()=>l,cg:()=>i,fV:()=>o});let a="undefined"!=typeof FORCE_SERVER_ENV&&FORCE_SERVER_ENV,l="undefined"==typeof document||a?void 0:document,i="undefined"==typeof window||a?void 0:window,r="undefined"==typeof history||a?void 0:history,o="undefined"==typeof location||a?{pathname:"",origin:"",search:"",hash:"",href:""}:location},6923:(e,n,t)=>{t.d(n,{KJ:()=>i,X3:()=>l,g5:()=>r});var a=t(56038);let l=void 0===a.XC,i=!l;function r(){return!!l||!a.XC||!!(a.XC.querySelector('react-app[data-ssr="true"]')||a.XC.querySelector('react-partial[data-ssr="true"][partial-name="repos-overview"]'))}},11083:(e,n,t)=>{t.d(n,{X:()=>g,i:()=>u});var a=t(71315),l=t(34095),i=t(99223),r=t(69599),o=t(21067),s=t(70170);let d=[];function u(e,n=!1,t=.5){if(!a.X3&&!0!==(0,r.G7)("browser_stats_disabled")){if(t<0||t>1)throw RangeError("Sampling probability must be between 0 and 1");void 0===e.timestamp&&(e.timestamp=Date.now()),e.loggedIn=(0,o.M3)(),e.staff=g(),e.bundler=i.v,Math.random()<t&&d.push(e),n?y():m()}}let c=null,m=(0,s.n)(async function(){await l.K,null==c&&(c=window.requestIdleCallback(y))},5e3);function y(){if(c=null,!d.length)return;let e=a.XC?.head?.querySelector('meta[name="browser-stats-url"]')?.content;if(e){for(let l of function(e){let n=[],t=e.map(e=>JSON.stringify(e));for(;t.length>0;)n.push(function(e){let n=e.shift(),t=[n],a=n.length;for(;e.length>0&&a<=65536;){let n=e[0].length;if(a+n<=65536){let l=e.shift();t.push(l),a+=n}else break}return t}(t));return n}(d)){var n=e,t=`{"stats": [${l.join(",")}], "target": "${a.XC?.head?.querySelector('meta[name="ui-target"]')?.content||"full"}"}`;try{navigator.sendBeacon&&navigator.sendBeacon(n,t)}catch{}}d=[]}}function g(){return!!a.XC?.head?.querySelector('meta[name="user-staff"]')?.content}a.XC?.addEventListener("pagehide",y),a.XC?.addEventListener("visibilitychange",y)},60912:(e,n,t)=>{t.d(n,{P:()=>o});var a=t(74848),l=t(34164);let i={reason:"readonly-comment-box-module__reason--QIvzf"},r={ReadonlyCommentBoxContainer:"ReadonlyCommentBox-module__ReadonlyCommentBoxContainer--qNC85",centeredContent:"ReadonlyCommentBox-module__centeredContent--bVUCp"};function o({reason:e,icon:n,...t}){return(0,a.jsx)("div",{className:(0,l.$)("blankslate",r.ReadonlyCommentBoxContainer),...t,children:(0,a.jsxs)("div",{className:r.centeredContent,children:[n&&(0,a.jsx)(n,{size:24}),(0,a.jsx)("div",{className:i.reason,children:e})]})})}try{o.displayName||(o.displayName="ReadonlyCommentBox")}catch{}},98994:(e,n,t)=>{t.d(n,{U:()=>s});var a=t(74848),l=t(29731),i=t(34164),r=t(35220);let o={container:"Description-module__container--Zwqe8",compact:"Description-module__compact--Lw6nW"};function s({children:e,style:n,className:t}){let{variant:s}=(0,r.e)();return(0,a.jsx)("div",{...(0,l.G)("list-view-item-description"),className:(0,i.$)(o.container,"compact"===s&&o.compact,t),style:n,children:e})}try{s.displayName||(s.displayName="ListItemDescription")}catch{}},43617:(e,n,t)=>{t.d(n,{Q:()=>s});var a=t(74848),l=t(29731),i=t(34164),r=t(35220);let o={container:"MainContent-module__container--NyRpm",inner:"MainContent-module__inner--qD0Pb",compact:"MainContent-module__compact--S3brA"};function s({children:e}){let{variant:n}=(0,r.e)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{...(0,l.G)("list-view-item-main-content"),className:o.container,children:(0,a.jsx)("div",{className:(0,i.$)(o.inner,"compact"===n&&o.compact),children:e})})})}try{s.displayName||(s.displayName="ListItemMainContent")}catch{}},23656:(e,n,t)=>{t.d(n,{W:()=>X});var a=t(74848);let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},a=[{kind:"Literal",name:"first",value:100}],l={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:a,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[l,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[s,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[u,{kind:"InlineFragment",selections:[t,{alias:null,args:a,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[l,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[u,s,d,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();l.hash="58ea81646b217a25de6cfe147936e7f6";let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null}],type:"Comment",abstractKey:"__isComment"};i.hash="fcc1ee717c6a87a4ffdb4f4d9391d55c";var r=t(77430),o=t(76873),s=t(81945),d=t(5945),u=t(52446),c=t(89169),m=t(21654),y=t(96540),g=t(18312),p=t(73454);let f={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},k={CouldNotFindFallbackErrorContainer:"CouldNotFindFallbackError-module__CouldNotFindFallbackErrorContainer--PNbb0"},h=({retry:e})=>(0,a.jsx)(p.h,{message:f.couldNotLoad,retry:e,className:k.CouldNotFindFallbackErrorContainer});try{h.displayName||(h.displayName="CouldNotFindFallbackError")}catch{}let v=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[t,a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[t,a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r,i,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},i,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},o],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();v.hash="027faee365f58b6aa217941196bb5c80";var E=t(96665),C=t(18042);let b={EditHistoryDialogContainer:"EditHistoryDialog-module__EditHistoryDialogContainer--g7yZt",editHistoryContentScrollable:"EditHistoryDialog-module__editHistoryContentScrollable--Sso3i",contentViewerContainer:"EditHistoryDialog-module__contentViewerContainer--CLOK3",mutedInfoText:"EditHistoryDialog-module__mutedInfoText--C13E3",loadingSkeletonContainer:"EditHistoryDialog-module__loadingSkeletonContainer--ob6sY"},w={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};w.hash="173b0fbf2e248d6057ccd670ace2eea7";var S=t(43258),F=t(38621),K=t(69948),_=t(55847),N=t(30729);let R={deleteEditRevision:"Delete revision"},x={ghostUserLogin:"ghost"},D=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[t,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[l,i],storageKey:null},r],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[t,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,i,t],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();D.hash="45e1f3e7d425560f65ef39e8c357794d";let A={EditHistoryDialogHeaderContainer:"EditHistoryDialogHeader-module__EditHistoryDialogHeaderContainer--IRXVB",statusLabel:"EditHistoryDialogHeader-module__statusLabel--Pf9hN",deleteRevisionButton:"EditHistoryDialogHeader-module__deleteRevisionButton--I4tuB",actorDetailsWrapper:"EditHistoryDialogHeader-module__actorDetailsWrapper--hz1cP",userAvatar:"EditHistoryDialogHeader-module__userAvatar--hMoGt",usernameBold:"EditHistoryDialogHeader-module__usernameBold--nCSfu"},j=({queryRef:e,userContentEditId:n})=>{let t=(0,g.useFragment)(w,e),l=(0,g.useRelayEnvironment)(),i=(0,K.S)(),{addToast:r}=(0,S.Y6)(),o=(0,y.useCallback)(async()=>{await i({title:C.k.confirmations.deleteEditHistoryTitle,content:C.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:C.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:n},onCompleted:t,onError:a}){(0,g.commitMutation)(e,{mutation:D,variables:{input:{id:n}},onCompleted:e=>{null===e.deleteUserContentEdit?a?.():t?.()},onError:e=>a?.(e)})}({environment:l,input:{id:n},onError:()=>{r({type:"error",message:f.couldNotDeleteEditRevision})}})},[r,i,l,n]),s=t.newest||t.deletedAt;return(0,a.jsxs)("div",{className:A.EditHistoryDialogHeaderContainer,children:[t.editor&&(0,a.jsx)(L,{login:t.editor.login,avatarUrl:t.editor.avatarUrl,time:t.editedAt,details:t.firstEdit?C.k.editHistory.created:C.k.editHistory.edited,trailingElement:s?(0,a.jsx)(m.A,{className:A.statusLabel,children:t.deletedAt?C.k.editHistory.deleted:C.k.editHistory.mostRecent}):void 0}),t.viewerCanDelete&&!t.newest&&!t.deletedAt&&(0,a.jsxs)(_.Q,{variant:"danger",size:"small","aria-label":C.k.editHistory.deleteRevisionAriaLabel,onClick:o,className:A.deleteRevisionButton,children:[(0,a.jsx)(N.A,{icon:F.TrashIcon})," ",R.deleteEditRevision]})]})};function L({login:e,avatarUrl:n,details:t,time:l,className:i,trailingElement:o}){let s=!!n&&!!e;return(0,a.jsxs)("div",{className:A.actorDetailsWrapper,children:[(0,a.jsxs)("div",{className:i,children:[s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.r,{src:n,size:16,alt:`@${e}`,className:A.userAvatar}),(0,a.jsx)("span",{className:A.usernameBold,children:e})]}),!s&&(0,a.jsx)("span",{children:e??x.ghostUserLogin}),(0,a.jsxs)("span",{children:[" ",t," "]}),l&&(0,a.jsx)(c.A,{date:new Date(l)})]}),o]})}try{j.displayName||(j.displayName="EditHistoryDialogHeader")}catch{}try{L.displayName||(L.displayName="ActorOperationDetails")}catch{}let H=e=>e.split(/\r?\n/),T=e=>e.split(/\s+/),I=(e,n)=>({groups:[{words:e??"",modification:n}],modification:n}),V={diffContainer:"GroupedTextDiffViewer-module__diffContainer--vSv5M",borderStylingAdded:"GroupedTextDiffViewer-module__borderStylingAdded--vmx_p",borderStylingRemoved:"GroupedTextDiffViewer-module__borderStylingRemoved--nuxu4",borderStylingChanged:"GroupedTextDiffViewer-module__borderStylingChanged--SGyL6",wordStylingAdded:"GroupedTextDiffViewer-module__wordStylingAdded--WmYJz",wordStylingRemoved:"GroupedTextDiffViewer-module__wordStylingRemoved--n4HZo",diffLine:"GroupedTextDiffViewer-module__diffLine--yfbRY"},M=e=>{switch(e){case"ADDED":return{open:"[+]",close:"[/+]"};case"REMOVED":return{open:"[-]",close:"[/-]"}}return{open:"",close:""}},B=e=>"ADDED"===e||"REMOVED"===e,U=({groups:e,modification:n})=>{let t=e.map(e=>e.words).join(" ");return(0,a.jsxs)("span",{className:V.diffLine,children:["EDITED"===n&&e?.map((e,n)=>(0,a.jsxs)(a.Fragment,{children:[B(e.modification)&&(0,a.jsx)("span",{className:"sr-only",children:M(e.modification).open}),(0,a.jsx)("span",{className:(e=>{switch(e){case"ADDED":return V.wordStylingAdded;case"REMOVED":return V.wordStylingRemoved;case"UNCHANGED":return""}})(e.modification),children:`${0===n?"":" "}${e.words}`}),B(e.modification)&&(0,a.jsx)("span",{className:"sr-only",children:M(e.modification).close})]},n-1)),"EDITED"!==n&&e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"sr-only",children:M(n).open}),(0,a.jsx)("span",{children:t}),(0,a.jsx)("span",{className:"sr-only",children:M(n).close})]}),0===e.length&&(0,a.jsx)("br",{})]})},O=({before:e,after:n})=>{let t=function({before:e,after:n}){let t=e?H(e):[],a=n?H(n):[],l=[];for(let e=0;e<t.length||e<a.length;e++){let n=t[e],i=a[e];l.push(function(e,n){let t=e?T(e):[],a=n?T(n):[];if(0===t.length&&0===a.length||e===n)return I(e,"UNCHANGED");if(0===t.length)return I(n,"ADDED");if(0===a.length)return I(e,"REMOVED");let l=[],i={words:"",modification:"UNCHANGED"},r={words:"",modification:"ADDED"},o={words:"",modification:"REMOVED"};for(let e=0;e<t.length||e<a.length;e++){let n=t[e],s=a[e];n===s?(i.words=`${i.words}${0===i.words.length?"":" "}${n}`,""!==r.words&&(l.push(r),r={words:"",modification:"ADDED"}),""!==o.words&&(l.push(o),o={words:"",modification:"REMOVED"})):(""!==i.words&&(void 0!==n||void 0!==s)&&(l.push(i),i={words:"",modification:"UNCHANGED"}),void 0!==n&&(o.words=`${o.words}${0===o.words.length?"":" "}${n}`),void 0!==s&&(r.words=`${r.words}${0===r.words.length?"":" "}${s}`))}return""!==r.words&&l.push(r),""!==o.words&&l.push(o),""!==i.words&&l.push(i),{groups:l,modification:"EDITED"}}(n,i))}return{lines:l}}({before:e,after:n});return(0,a.jsx)("div",{className:V.diffContainer,children:t.lines.map((e,n)=>(0,a.jsx)("div",{className:(e=>{switch(e){case"ADDED":return V.borderStylingAdded;case"REMOVED":return V.borderStylingRemoved;case"EDITED":return V.borderStylingChanged;case"UNCHANGED":return""}})(e.modification),children:(0,a.jsx)(U,{...e})},n))})};try{U.displayName||(U.displayName="LineDiffViewer")}catch{}try{O.displayName||(O.displayName="GroupedTextDiffViewer")}catch{}let q=({userContentEditId:e,onClose:n})=>(0,a.jsx)(E.l,{renderBody:()=>(0,a.jsx)(G,{userContentEditId:e}),onClose:n,title:C.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",className:b.EditHistoryDialogContainer}),G=({userContentEditId:e})=>{let[n,t]=(0,g.useQueryLoader)(v);return((0,y.useEffect)(()=>{t({id:e})},[t,e]),n)?(0,a.jsx)(y.Suspense,{fallback:(0,a.jsx)(Q,{}),children:(0,a.jsx)(o.A,{onRetry:()=>t({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,a.jsx)(h,{retry:e}),children:(0,a.jsx)($,{queryRef:n,userContentEditId:e})})}):(0,a.jsx)(Q,{})},$=({queryRef:e,userContentEditId:n})=>{let t=(0,g.usePreloadedQuery)(v,e).node;if(!t)return(0,a.jsx)(Q,{});let l=!t.diffBefore&&!t.diff;return(0,a.jsxs)("div",{className:b.editHistoryContentScrollable,children:[(0,a.jsx)(j,{queryRef:t,userContentEditId:n}),(0,a.jsxs)("div",{className:b.contentViewerContainer,children:[!t.deletedAt&&!l&&(0,a.jsx)(O,{before:t.diffBefore??void 0,after:t.diff??void 0}),!t.deletedAt&&l&&(0,a.jsx)("span",{className:b.mutedInfoText,children:C.k.editHistory.emptyEdit}),t.deletedAt&&(0,a.jsx)(L,{login:t.deletedBy?.login,details:C.k.editHistory.deletedThisRevision,time:t.deletedAt,className:b.mutedInfoText})]})]})};function Q(){return(0,a.jsxs)("div",{className:b.loadingSkeletonContainer,children:[(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"})]})}try{q.displayName||(q.displayName="EditHistoryDialog")}catch{}try{G.displayName||(G.displayName="EditContent")}catch{}try{$.displayName||($.displayName="EditContentInternal")}catch{}try{Q.displayName||(Q.displayName="EditContentLoading")}catch{}let P={editHistoryItemMetadata:"MarkdownEditHistoryViewer-module__editHistoryItemMetadata--oUxNy",editHistoryContainer:"MarkdownEditHistoryViewer-module__editHistoryContainer--l0A8s",editHistoryMenuButton:"MarkdownEditHistoryViewer-module__editHistoryMenuButton--GyyK7",scrollableEditHistoryList:"MarkdownEditHistoryViewer-module__scrollableEditHistoryList--PDigD",editorAvatar:"MarkdownEditHistoryViewer-module__editorAvatar--HeVVG",editorUsername:"MarkdownEditHistoryViewer-module__editorUsername--_tgsX",loadingSkeletonContainer:"MarkdownEditHistoryViewer-module__loadingSkeletonContainer--K3qvZ"};function X({editHistory:e}){let n=(0,g.useFragment)(i,e),[t,l]=(0,y.useState)(!1),[r,o]=(0,y.useState)("");return n&&n.viewerCanReadUserContentEdits&&n.lastEditedAt?(0,a.jsxs)("div",{className:P.editHistoryContainer,children:[(0,a.jsxs)(d.W,{children:[(0,a.jsx)(d.W.Button,{variant:"invisible",size:"small","aria-label":C.k.editHistory.ariaLabel,className:P.editHistoryMenuButton,children:C.k.editHistory.openEditsButton}),(0,a.jsx)(d.W.Overlay,{width:"auto",children:(0,a.jsx)(z,{setIsEditHistoryDialogOpen:l,setSelectedId:o,editHistoryId:n.id,lastEditedAt:n.lastEditedAt})})]}),t&&(0,a.jsx)(q,{onClose:()=>l(!1),userContentEditId:r})]}):null}let z=({editHistoryId:e,lastEditedAt:n,...t})=>{let[i,r]=(0,g.useQueryLoader)(l);return((0,y.useEffect)(()=>{r({id:e},{fetchPolicy:"network-only"})},[e,r,n]),i)?(0,a.jsx)(y.Suspense,{fallback:(0,a.jsx)(W,{}),children:(0,a.jsx)(o.A,{onRetry:()=>r({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,a.jsx)(h,{retry:e}),children:(0,a.jsx)(J,{queryRef:i,...t})})}):(0,a.jsx)(W,{})},J=({setIsEditHistoryDialogOpen:e,setSelectedId:n,queryRef:t})=>{let i=(0,g.usePreloadedQuery)(l,t);if(!i.node?.userContentEdits)return(0,a.jsx)(W,{});let o=i.node.userContentEdits.totalCount;return(0,a.jsx)(u.l,{className:P.scrollableEditHistoryList,children:(0,a.jsxs)(u.l.Group,{children:[(0,a.jsx)(u.l.GroupHeading,{children:`Edited ${o-1} time${o>2?"s":""}`}),i.node.userContentEdits.edges?.map((t,l)=>{let s=t?.node;if(!s?.editor)return null;let d=i.node?.includesCreatedEdit&&l===o-1;return(0,a.jsxs)(u.l.Item,{onSelect:()=>{n(s.id),e(!0)},children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(r.r,{src:s.editor.avatarUrl,size:16,alt:`@${s.editor.login}`,className:P.editorAvatar})}),(0,a.jsx)("span",{className:P.editorUsername,children:s.editor.login}),(0,a.jsxs)(u.l.Description,{truncate:!0,className:P.editHistoryItemMetadata,children:[d&&(0,a.jsx)("div",{title:"",children:C.k.editHistory.created}),(0,a.jsx)(c.A,{date:new Date(s.editedAt)})]}),(0===l||s.deletedAt)&&(0,a.jsx)(u.l.TrailingVisual,{children:(0,a.jsx)(m.A,{children:0===l?C.k.editHistory.mostRecent:C.k.editHistory.deleted})})]},s.id)})]})})};function W(){return(0,a.jsxs)("div",{className:P.loadingSkeletonContainer,children:[(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(s.O,{variant:"rounded",height:"md",width:"100%"})]})}try{X.displayName||(X.displayName="MarkdownEditHistoryViewer")}catch{}try{z.displayName||(z.displayName="EditHistoryActionMenuContent")}catch{}try{J.displayName||(J.displayName="EditHistoryActionMenuContentInternal")}catch{}try{W.displayName||(W.displayName="EditHistoryLoading")}catch{}},21086:(e,n,t)=>{t.d(n,{_:()=>d});var a=t(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};l.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var i=t(81246),r=t(18312),o=t(18042);let s={lastEditInfoContainer:"MarkdownLastEditedBy-module__lastEditInfoContainer--EN_Qz",mutedEditorLink:"MarkdownLastEditedBy-module__mutedEditorLink--pD3Z6"};function d({editInformation:e,includeSeparator:n,forceUnderline:t}){let d=(0,r.useFragment)(l,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:u,url:c}=d.lastUserContentEdit.editor;return(0,a.jsxs)("span",{className:s.lastEditInfoContainer,children:[n&&(0,a.jsx)("span",{children:" \xb7 "}),(0,a.jsxs)("span",{children:[`${o.k.editHistory.editedBy} `,(0,a.jsx)(i.A,{href:c,inline:t,className:s.mutedEditorLink,children:u})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},78809:(e,n,t)=>{t.d(n,{P:()=>h});var a=t(74848),l=t(11683),i=t(82678),r=t(9745),o=t(52446),s=t(96540),d=t(3614),u=t(55847),c=t(34164),m=t(79866);let y={reactionToggleButton:"ReactionButton-module__reactionToggleButton--axnvQ",reactionToggleButtonReacted:"ReactionButton-module__reactionToggleButtonReacted--TgLue"};function g({reactionGroup:e,disabled:n,onReact:t}){let{content:l,viewerHasReacted:i}=e.reaction,{reactors:r,totalCount:o}=e,g=(0,s.useId)();if(0===o)return null;let p=r.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),f=(0,m.JQ)(l,i),k=(0,m.fj)(l,o);return(0,a.jsx)(d.m,{text:(0,m.Js)(p,o),type:"description",direction:"ne",children:(0,a.jsxs)(u.Q,{size:"small","aria-label":k,role:"switch","aria-checked":i,leadingVisual:()=>(0,a.jsx)(a.Fragment,{children:m.qG[l]}),onClick:()=>t(l,i),disabled:n,className:(0,c.$)(y.reactionToggleButton,i&&y.reactionToggleButtonReacted),"aria-describedby":g,children:[(0,a.jsx)("span",{className:"sr-only",id:g,children:f}),o]})})}try{g.displayName||(g.displayName="ReactionButton")}catch{}let p={ReactionsMenuOption:"ReactionsMenuItem-module__ReactionsMenuOption--uvJoP"};function f({onReact:e,reaction:n}){let{content:t,viewerHasReacted:l}=n;return(0,a.jsx)(o.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},backgroundColor:l?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":l,onSelect:()=>e(t,l),className:p.ReactionsMenuOption,children:m.qG[t]},t)}try{f.displayName||(f.displayName="ReactionsMenuItem")}catch{}var k=t(97911);function h({reactionGroups:e,canReact:n=!0,onReact:t}){let[d,u]=(0,s.useState)(!1),c=e.length>0,{containerRef:m}=(0,i.G)({bindKeys:l.z0.HomeAndEnd|l.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,a.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:m,className:"d-flex gap-1 flex-wrap",children:[n&&(0,a.jsx)(r.T,{open:d,onOpen:()=>u(c),onClose:()=>u(!1),anchorRef:m,focusZoneSettings:{bindKeys:l.z0.ArrowAll|l.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,a.jsx)(k.N,{renderAnchorProps:e,reactionsAvailable:c}),children:(0,a.jsx)(o.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,n)=>(0,a.jsx)(f,{reaction:e.reaction,onReact:(e,n)=>{t(e,n),u(!1)}},n))})}),(e||[]).map((e,n)=>(0,a.jsx)(g,{reactionGroup:e,onReact:(e,n)=>t(e,n)},n))]})}try{h.displayName||(h.displayName="ReactionViewerBase")}catch{}},19805:(e,n,t)=>{t.r(n),t.d(n,{ReactionViewerRelay:()=>m,ReactionViewerRelayQueryComponent:()=>y,default:()=>g});var a=t(74848);let l=function(){var e={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},n=[e];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:n,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();l.hash="4957e34582c8895c7e94b4dc9fa57fc9";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l=[a],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"4ad1541bb8051d5b7a55a10bbdf54731",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();i.hash="37ec1495c4c7ace448e859305895ad0e";var r=t(96540),o=t(18312),s=t(74547);let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l=[a],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[t,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"c925c985a3bde5cd71f1859404c89567",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();d.hash="504ef43df20e9ee96a023f421682e18d";let u=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},l=[a],i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[t,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"isCopilot",storageKey:null}],type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[i],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},i],storageKey:null}],storageKey:null}]},params:{id:"fd20390882af8180d05f0d4a921c00d9",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();u.hash="8e28d0138da52c07bb0e64eda432f580";var c=t(78809);function m({reactionGroups:e,subjectId:n,canReact:t=!0}){let i=(0,o.useRelayEnvironment)(),m=(0,o.useFragment)(l,e),y=(0,r.useCallback)((e,a)=>{t&&(a?function({environment:e,input:{subject:n,content:t},onError:a,onCompleted:l}){(0,o.commitMutation)(e,{mutation:u,variables:{input:{subjectId:n,content:t}},optimisticUpdater:e=>{let a=e.get(n);if(!a)return;let l=a.getLinkedRecords("reactionGroups");if(!l)return;let i=l.findIndex(e=>e.getValue("content")===t),r=l[i];if(r){r.setValue(!1,"viewerHasReacted");let t=`client:${n}:reactionGroups:${i}:reactors(first:5)`,a=e.get(t);if(a){let e=a.getValue("totalCount");a.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:i,input:{subject:n,content:e}}):function({environment:e,input:{subject:n,content:t},onError:a,onCompleted:l}){(0,o.commitMutation)(e,{mutation:d,variables:{input:{subjectId:n,content:t}},optimisticUpdater:e=>{let a=e.get(n);if(!a)return;let l=a.getLinkedRecords("reactionGroups");if(!l)return;let i=l.findIndex(e=>e.getValue("content")===t),r=l[i];if(r){r.setValue(!0,"viewerHasReacted");let t=`client:${n}:reactionGroups:${i}:reactors(first:5)`,a=e.get(t);if(a){let e=a.getValue("totalCount");a.setValue(e?e+1:1,"totalCount")}}},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:i,input:{subject:n,content:e}}))},[t,i,n]),g=(m.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>e&&"%other"!==e.__typename?{login:"Bot"===e.__typename&&e.isCopilot?s.t.copilotDisplayName:e.login,typeName:e.__typename}:{login:"",typeName:"Other"})||[],totalCount:e.reactors?.totalCount||0}));return(0,a.jsx)(c.P,{reactionGroups:g,canReact:t,subjectId:n,onReact:y})}function y({id:e,subjectLocked:n}){let t=(0,o.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return t.node?(0,a.jsx)(m,{subjectId:e,reactionGroups:t.node,canReact:!n}):null}let g=m;try{m.displayName||(m.displayName="ReactionViewerRelay")}catch{}try{y.displayName||(y.displayName="ReactionViewerRelayQueryComponent")}catch{}},97911:(e,n,t)=>{t.d(n,{N:()=>d});var a=t(74848),l=t(38621),i=t(87330),r=t(94977),o=t(74547);let s={ReactionViewerAnchorButton:"ReactionViewerAnchor-module__ReactionViewerAnchorButton--kb52r"};function d({renderAnchorProps:e,reactionsAvailable:n}){let t=(0,a.jsx)(u,{renderAnchorProps:e,reactionsAvailable:n});return n?t:(0,a.jsx)(r.A,{"aria-label":o.t.reactionsUnavailable,children:t})}let u=({renderAnchorProps:e,reactionsAvailable:n})=>(0,a.jsx)(i.K,{unsafeDisableTooltip:!0,size:"small",icon:l.SmileyIcon,...e,"aria-label":o.t.addOrRemoveReaction,inactive:!n,"aria-labelledby":void 0,className:s.ReactionViewerAnchorButton});try{d.displayName||(d.displayName="ReactionViewerAnchor")}catch{}try{u.displayName||(u.displayName="BaseIcon")}catch{}},76873:(e,n,t)=>{t.d(n,{A:()=>d});var a=t(50467),l=t(74848),i=t(96540),r=t(38102),o=t(49936);let s=e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"Error:"}),(0,l.jsx)("button",{onClick:e,children:"Retry"})]});let BasicPreloadedQueryBoundary=class BasicPreloadedQueryBoundary extends i.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){let n=e.shouldSkipReport??!1,t={critical:this.props.critical||!1,reactAppName:this.props.appName};n||(0,r.N7)(e,t)}render(){let{children:e}=this.props,{error:n}=this.state,t=this.props.fallback||s;return n?t(this._retry,n):e}constructor(...e){super(...e),(0,a._)(this,"state",{error:null}),(0,a._)(this,"_retry",()=>{this.props.onRetry(),this.setState({error:null})})}};function d(e){let n=(0,i.useContext)(o.I),t=e.appName||n?.appName;return(0,l.jsx)(BasicPreloadedQueryBoundary,{...e,appName:t})}try{d.displayName||(d.displayName="PreloadedQueryBoundary")}catch{}}}]);
//# sourceMappingURL=packages_app-uuid_app-uuid_ts-packages_commenting_hooks_use-markdown-body_ts-packages_comment-d030a9-e0db01335599.js.map